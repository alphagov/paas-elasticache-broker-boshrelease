{
  "broker_name": "<%= p('elasticache-broker.broker_name') %>",
<% if_p('elasticache-broker.host') do |host| -%>
  "host": "<%= host %>",
<% end -%>
<% if_p('elasticache-broker.tls') do |tls| -%>
  "tls": {
    "certificate": "<%= tls.fetch("certificate").gsub(/\n/, '\\n') %>",
    "private_key": "<%= tls.fetch("private_key").gsub(/\n/, '\\n') %>"
  },
<% end -%>
  "username": "<%= p('elasticache-broker.broker_username') %>",
  "password": "<%= p('elasticache-broker.broker_password') %>",
  "region": "<%= p('elasticache-broker.region') %>",
  "cache_subnet_group_name": "<%= p('elasticache-broker.cache_subnet_group_name') %>",
  "vpc_security_group_ids": <%= JSON.dump(p('elasticache-broker.vpc_security_group_ids')) %>,
  "catalog": <%= JSON.dump(p('elasticache-broker.catalog')) %>,
  "plan_configs": <%= JSON.dump(p('elasticache-broker.plan_configs')) %>,
  "log_level": "<%= p('elasticache-broker.log_level') %>",
  "kms_key_id": "<%= p('elasticache-broker.kms_key_id') %>",
  "secrets_manager_path": "<%= p('elasticache-broker.secrets_manager_path') %>"
}
